<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="一個簡單的模擬經營遊戲">
    <meta name="theme-color" content="#1976d2">
    <title>模擬經營遊戲</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- 左側資源面板 -->
    <div class="resource-sidebar">
        <h3>資源狀態</h3>
        <div class="resource-item">
            <span class="label">等級</span>
            <span class="value" id="level">1</span>
        </div>
        <div class="resource-item">
            <span class="label">金錢</span>
            <span class="value" id="money">1000</span>
        </div>
        <div class="resource-item">
            <span class="label">人口</span>
            <span class="value" id="population">0</span>
        </div>
        <div class="resource-item">
            <span class="label">能源</span>
            <span class="value" id="energy">20</span>
        </div>
        <div class="resource-item">
            <span class="label">工業</span>
            <span class="value" id="industry">0</span>
        </div>
        <div class="resource-item">
            <span class="label">威望</span>
            <span class="value" id="prestige">0</span>
        </div>
        <div class="resource-item">
            <span class="label">研究點數</span>
            <span class="value" id="research-points">0</span>
        </div>
    </div>

    <div class="container">
        <h1>模擬經營遊戲</h1>

        <!-- 遊戲說明按鈕 -->
        <button id="helpBtn" class="help-btn" onclick="toggleHelp()">
            <i class="fas fa-question-circle"></i> 遊戲說明
        </button>

        <!-- 遊戲說明面板 -->
        <div id="helpPanel" class="help-panel">
            <h2>遊戲說明</h2>
            <div class="help-content">
                <h3>基本玩法</h3>
                <p>這是一個簡單的城市經營遊戲，跟著指引一步步發展你的城市吧！</p>

                <h3>資源說明</h3>
                <ul>
                    <li>金錢：建造和升級建築物</li>
                    <li>人口：解鎖新建築物</li>
                    <li>能源：維持建築物運作</li>
                    <li>工業：完成成就</li>
                </ul>

                <h3>建築物說明</h3>
                <ul>
                    <li>住宅區：提供人口</li>
                    <li>商業區：產生金錢</li>
                    <li>工廠：產生工業</li>
                    <li>發電廠：提供能源</li>
                    <li>學校：提升效率</li>
                    <li>醫院：提升效率</li>
                    <li>公園：提升效率</li>
                </ul>

                <h3>簡單攻略</h3>
                <ol>
                    <li>第一步：建造住宅區和發電廠
                        <ul>
                            <li>先建造2-3個住宅區</li>
                            <li>建造1個發電廠</li>
                        </ul>
                    </li>
                    <li>第二步：發展經濟
                        <ul>
                            <li>建造商業區賺錢</li>
                            <li>繼續建造住宅區</li>
                        </ul>
                    </li>
                    <li>第三步：提升效率
                        <ul>
                            <li>建造學校、醫院和公園</li>
                            <li>升級現有建築物</li>
                        </ul>
                    </li>
                </ol>

                <h3>遊戲提示</h3>
                <ul>
                    <li>每30秒自動獲得收益</li>
                    <li>建築物需要能源才能運作</li>
                    <li>完成成就可以獲得獎勵</li>
                    <li>跟著實時指引發展城市</li>
                </ul>

                <h3>遊戲攻略</h3>
                <ol>
                    <li>初期發展（0-100人口）：
                        <ul>
                            <li>優先建造住宅區增加人口</li>
                            <li>建造發電廠確保能源供應</li>
                            <li>適量建造商業區產生收入</li>
                            <li>注意維持能源平衡</li>
                            <li>目標：達到50人口解鎖學校</li>
                        </ul>
                    </li>
                    <li>中期發展（100-500人口）：
                        <ul>
                            <li>建造學校提升人口效率</li>
                            <li>建造公園提升滿意度</li>
                            <li>建造醫院提升健康度</li>
                            <li>開始建造工廠增加工業產值</li>
                            <li>開始進行科技研究</li>
                            <li>目標：達到300人口並完成基礎研究</li>
                        </ul>
                    </li>
                    <li>後期發展（500人口以上）：
                        <ul>
                            <li>持續升級所有建築物</li>
                            <li>平衡各項資源的產出和消耗</li>
                            <li>完成成就獲得額外獎勵</li>
                            <li>研究高級科技提升效率</li>
                            <li>目標：達到1000人口並完成所有研究</li>
                        </ul>
                    </li>
                    <li>效率提升技巧：
                        <ul>
                            <li>學校、醫院和公園的加成效果可以疊加</li>
                            <li>建築物等級越高，效率提升越明顯</li>
                            <li>注意維持能源供應，避免建築物停擺</li>
                            <li>優先研究效率提升科技</li>
                            <li>合理分配研究點數</li>
                            <li>定期檢查成就進度</li>
                        </ul>
                    </li>
                </ol>

                <h3>常見問題</h3>
                <ul>
                    <li>Q: 為什麼建築物無法運作？
                        <br>A: 檢查是否滿足人口需求和能源供應</li>
                    <li>Q: 如何快速增加收入？
                        <br>A: 建造更多商業區並提升其等級</li>
                    <li>Q: 研究點數如何獲得？
                        <br>A: 通過學校、醫院和公園產生</li>
                    <li>Q: 如何提升效率？
                        <br>A: 建造效率建築物並研究相關科技</li>
                </ul>
            </div>
            <button onclick="toggleHelp()" class="close-btn">關閉</button>
        </div>

        <div class="actions">
            <button onclick="collectIncome()">收取收益</button>
            <button onclick="resetGame()">重置遊戲</button>
        </div>
        <div id="auto-income-timer">自動收益倒數：30 秒</div>

        <!-- 建築物列表 -->
        <div class="buildings">
            <h2>建築物</h2>
            <div class="building-row">
                <div class="building-info">
                    <span>住宅區 (<span id="house-count">0</span>) Lv.<span id="house-level">1</span></span>
                    <div class="building-tooltip">
                        <p>基礎建築物，提供人口</p>
                        <p>每級提供5人口</p>
                        <p>消耗1能源</p>
                    </div>
                </div>
                <button onclick="build('house')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('house')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>商業區 (<span id="shop-count">0</span>) Lv.<span id="shop-level">1</span></span>
                    <div class="building-tooltip">
                        <p>產生金錢收入</p>
                        <p>每級產生30金錢</p>
                        <p>需要10人口</p>
                        <p>消耗2能源</p>
                    </div>
                </div>
                <button onclick="build('shop')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('shop')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>工廠 (<span id="factory-count">0</span>) Lv.<span id="factory-level">1</span></span>
                    <div class="building-tooltip">
                        <p>產生工業產值</p>
                        <p>每級產生10工業</p>
                        <p>需要20人口</p>
                        <p>消耗5能源</p>
                    </div>
                </div>
                <button onclick="build('factory')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('factory')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>發電廠 (<span id="powerplant-count">0</span>) Lv.<span id="powerplant-level">1</span></span>
                    <div class="building-tooltip">
                        <p>提供能源</p>
                        <p>每級提供15能源</p>
                        <p>不消耗能源</p>
                    </div>
                </div>
                <button onclick="build('powerplant')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('powerplant')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>學校 (<span id="school-count">0</span>) Lv.<span id="school-level">1</span></span>
                    <div class="building-tooltip">
                        <p>提升人口效率</p>
                        <p>每級提升5%人口效率</p>
                        <p>需要50人口</p>
                        <p>消耗3能源</p>
                    </div>
                </div>
                <button onclick="build('school')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('school')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>醫院 (<span id="hospital-count">0</span>) Lv.<span id="hospital-level">1</span></span>
                    <div class="building-tooltip">
                        <p>提升人口健康度</p>
                        <p>每級提升10%人口效率</p>
                        <p>需要100人口</p>
                        <p>消耗4能源</p>
                    </div>
                </div>
                <button onclick="build('hospital')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('hospital')">升級</button>
            </div>
            <div class="building-row">
                <div class="building-info">
                    <span>公園 (<span id="park-count">0</span>) Lv.<span id="park-level">1</span></span>
                    <div class="building-tooltip">
                        <p>提升人口滿意度</p>
                        <p>每級提升8%人口效率</p>
                        <p>需要30人口</p>
                        <p>消耗2能源</p>
                    </div>
                </div>
                <button onclick="build('park')">建造</button>
                <button class="upgrade" onclick="upgradeBuilding('park')">升級</button>
            </div>
        </div>

        <!-- 研究面板 -->
        <div class="collapsible-panel">
            <div class="panel-header" onclick="togglePanel('research')">
                <h2>研究系統</h2>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div id="research-content" class="panel-content">
                <div id="research-list" class="research-list">
                    <!-- 研究項目將由 JavaScript 動態生成 -->
                </div>
            </div>
        </div>

        <!-- 成就面板 -->
        <div class="collapsible-panel">
            <div class="panel-header" onclick="togglePanel('achievements')">
                <h2>成就系統</h2>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div id="achievements-content" class="panel-content">
                <div class="achievement-category">
                    <h3>人口發展</h3>
                    <div id="population-achievements" class="achievement-list">
                        <!-- 成就將由 JavaScript 動態生成 -->
                    </div>
                </div>
                <div class="achievement-category">
                    <h3>財富累積</h3>
                    <div id="money-achievements" class="achievement-list">
                        <!-- 成就將由 JavaScript 動態生成 -->
                    </div>
                </div>
                <div class="achievement-category">
                    <h3>工業發展</h3>
                    <div id="industry-achievements" class="achievement-list">
                        <!-- 成就將由 JavaScript 動態生成 -->
                    </div>
                </div>
            </div>
        </div>

        <div id="log" class="log"></div>
    </div>
    <div id="guide-panel" class="guide-panel"></div>
    <div id="event-popup" class="event-popup"></div>
    <script src="js/script.js"></script>
</body>

</html>